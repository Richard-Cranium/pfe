\
\ test/environ.4th ---	prints, what ENVIRONMENT? reports.
\ (duz 05Aug93)
\

CR .( Environment as reported by system:)
CR .( ==================================)
CR

MARKER FORGET-ENVIRONMENT-DISPLAY
DECIMAL

: KNOWN?	2DUP TYPE 20 OUT @ - SPACES ." = "
		ENVIRONMENT? DUP 0= IF ." UNKNOWN!" CR  THEN ;

: .FLAG		KNOWN? IF  IF ." YES " ELSE ." NO " THEN  CR  THEN ;
: .NUMBER	KNOWN? IF  . CR  THEN ;

: SHOW-ENV	S" /COUNTED-STRING"	.NUMBER
		S" /HOLD"		.NUMBER
		S" /PAD"		.NUMBER
		S" ADDRESS-UNIT-BITS"	.NUMBER
		S" CORE-EXT"		.FLAG
		S" CORE"		.FLAG
		S" FLOORED"		.FLAG
		S" MAX-CHAR"		.NUMBER
		S" MAX-D"		KNOWN? IF  D. CR THEN
		S" MAX-N"		.NUMBER
		S" MAX-U"		KNOWN? IF  U. CR THEN
		S" MAX-UD"		KNOWN? IF UD. CR THEN
		S" RETURN-STACK-CELLS"	.NUMBER
		S" STACK-CELLS"		.NUMBER
		S" BLOCK-EXT"		.FLAG
		S" BLOCK"		.FLAG
		S" DOUBLE-EXT"		.FLAG
		S" DOUBLE"		.FLAG
		S" EXCEPTION-EXT"	.FLAG
		S" EXCEPTION"		.FLAG
		S" FACILITY-EXT"	.FLAG
		S" FACILITY"		.FLAG
		S" FILE-EXT"		.FLAG
		S" FILE"		.FLAG
		S" FLOATING-EXT"	.FLAG
		S" FLOATING"		.FLAG
                S" FLOATING-STACK"	.NUMBER
                [DEFINED] FS. [IF]
                    S" MAX-FLOAT"	KNOWN? IF  FS. CR THEN
                [THEN]
		S" LOCALS-EXT"		.FLAG
		S" LOCALS"		.FLAG
		S" #LOCALS"		.NUMBER
		S" MEMORY-ALLOC-EXT"	.FLAG
		S" MEMORY-ALLOC"	.FLAG
		S" TOOLS"		.FLAG
		S" TOOLS-EXT"		.FLAG
		S" SEARCH-ORDER-EXT"	.FLAG
		S" SEARCH-ORDER"	.FLAG
		S" WORDLISTS"		.NUMBER
		S" STRING-EXT"		.FLAG
		S" STRING"		.FLAG
		S" A NONSENSE STRING"	.FLAG
;

SHOW-ENV .S

FORGET-ENVIRONMENT-DISPLAY

CR

